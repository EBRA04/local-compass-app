<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>🧭 Local Compass - Discover Amazing Restaurants</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap");

      * {
        font-family: "Inter", sans-serif;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      @keyframes fadeInUp {
        0% {
          opacity: 0;
          transform: translateY(30px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes slideInLeft {
        0% {
          opacity: 0;
          transform: translateX(-30px);
        }
        100% {
          opacity: 1;
          transform: translateX(0);
        }
      }

      @keyframes slideInRight {
        0% {
          opacity: 0;
          transform: translateX(30px);
        }
        100% {
          opacity: 1;
          transform: translateX(0);
        }
      }

      @keyframes pulse-glow {
        0%,
        100% {
          box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
        }
        50% {
          box-shadow: 0 0 30px rgba(59, 130, 246, 0.8);
        }
      }

      @keyframes gradient-shift {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      .animate-float {
        animation: float 3s ease-in-out infinite;
      }

      .animate-fadeInUp {
        animation: fadeInUp 0.8s ease-out forwards;
      }

      .animate-slideInLeft {
        animation: slideInLeft 0.8s ease-out forwards;
      }

      .animate-slideInRight {
        animation: slideInRight 0.8s ease-out forwards;
      }

      .animate-pulse-glow {
        animation: pulse-glow 2s ease-in-out infinite;
      }

      .gradient-bg {
        background: linear-gradient(-45deg, #3b82f6, #1d4ed8, #2563eb, #1e40af);
        background-size: 400% 400%;
        animation: gradient-shift 6s ease infinite;
      }

      .glass {
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
      }

      .card-hover {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      .card-hover:hover {
        transform: translateY(-8px);
        box-shadow: 0 20px 40px rgba(59, 130, 246, 0.2);
      }

      .text-shadow {
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .nav-link {
        position: relative;
        overflow: hidden;
      }

      .nav-link::after {
        content: "";
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 0;
        height: 2px;
        background: #3b82f6;
        transition: width 0.3s ease;
      }

      .nav-link:hover::after {
        width: 100%;
      }

      .btn-primary {
        background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        transition: all 0.3s ease;
      }

      .btn-primary:hover {
        background: linear-gradient(135deg, #1d4ed8, #1e40af);
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(59, 130, 246, 0.4);
      }

      .btn-secondary {
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        transition: all 0.3s ease;
      }

      .btn-secondary:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(255, 255, 255, 0.2);
      }

      .feature-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
        opacity: 0;
        transform: scale(0.5);
        animation: iconPop 0.6s ease-out forwards;
      }

      @keyframes iconPop {
        0% {
          opacity: 0;
          transform: scale(0.5);
        }
        100% {
          opacity: 1;
          transform: scale(1);
        }
      }

      .admin-badge {
        background: linear-gradient(135deg, #f59e0b, #d97706);
        color: white;
        padding: 2px 8px;
        border-radius: 12px;
        font-size: 10px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        margin-left: 8px;
      }

      .stagger-1 {
        animation-delay: 0.1s;
      }
      .stagger-2 {
        animation-delay: 0.2s;
      }
      .stagger-3 {
        animation-delay: 0.3s;
      }
      .stagger-4 {
        animation-delay: 0.4s;
      }
      .stagger-5 {
        animation-delay: 0.5s;
      }
      .stagger-6 {
        animation-delay: 0.6s;
      }
    </style>
  </head>
  <body
    class="bg-gradient-to-br from-blue-50 via-white to-blue-100 min-h-screen"
  >
    <!-- Navigation -->
    <nav class="fixed w-full top-0 z-50 glass border-b border-white/20">
      <div class="max-w-7xl mx-auto px-6 py-4">
        <div class="flex justify-between items-center">
          <div class="flex items-center space-x-2 animate-slideInLeft">
            <div class="text-2xl mr-2">🧭</div>
            <h1
              class="text-2xl font-bold gradient-bg bg-clip-text text-transparent"
            >
              Local Compass
            </h1>
          </div>

          <!-- Center section with navigation links (only when not logged in) -->
          <div class="hidden md:flex">
            <% if (!currentUser) { %>
            <!-- Navigation links when not logged in -->
            <ul class="flex space-x-8 font-medium">
              <li>
                <a
                  href="/"
                  class="nav-link text-gray-700 hover:text-blue-600 transition-colors duration-300 stagger-1 animate-fadeInUp"
                  >Home</a
                >
              </li>
              <li>
                <a
                  href="#features"
                  class="nav-link text-gray-700 hover:text-blue-600 transition-colors duration-300 stagger-2 animate-fadeInUp"
                  >Features</a
                >
              </li>
              <li>
                <a
                  href="#contact"
                  class="nav-link text-gray-700 hover:text-blue-600 transition-colors duration-300 stagger-3 animate-fadeInUp"
                  >Contact</a
                >
              </li>
            </ul>
            <% } %>
          </div>

          <!-- Right section with action buttons -->
          <div
            class="hidden md:flex items-center space-x-4 animate-slideInRight"
          >
            <% if (currentUser) { %>
            <!-- User info before action buttons -->
            <div class="flex items-center mr-4">
              <!-- User avatar/icon -->
              <div
                class="w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white font-semibold text-sm relative mr-3"
              >
                <%= (currentUser.fullName || currentUser.username ||
                currentUser.email).charAt(0).toUpperCase() %> <% if (isAdmin) {
                %>
                <div
                  class="absolute -top-1 -right-1 w-3 h-3 bg-yellow-400 rounded-full border border-white"
                ></div>
                <% } %>
              </div>

              <div class="text-right">
                <div
                  class="text-sm font-semibold text-blue-600 flex items-center"
                >
                  <%= currentUser.fullName || currentUser.username ||
                  currentUser.email %> <% if (isAdmin) { %>
                  <span class="admin-badge ml-2">Admin</span>
                  <% } %>
                </div>
              </div>
            </div>

            <a
              href="/restaurants"
              class="nav-link text-gray-700 hover:text-blue-600 transition-colors duration-300 font-medium"
            >
              Dashboard
            </a>

            <form action="/logout" method="POST" class="inline">
              <button
                type="submit"
                class="btn-secondary px-4 py-2 text-gray-700 rounded-lg text-sm font-semibold hover:text-red-600 hover:bg-red-50 transition-all duration-300"
              >
                Logout
              </button>
            </form>
            <% } else { %>
            <a
              href="/login"
              class="btn-secondary px-4 py-2 text-gray-700 rounded-lg text-sm font-semibold hover:text-blue-600"
            >
              Login
            </a>
            <a
              href="/register"
              class="btn-primary px-4 py-2 text-white rounded-lg text-sm font-semibold"
            >
              Sign Up
            </a>
            <% } %>
          </div>

          <!-- Mobile menu button -->
          <div class="md:hidden">
            <button
              id="mobile-menu-button"
              class="text-gray-700 hover:text-blue-600 transition-colors"
            >
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"
                ></path>
              </svg>
            </button>
          </div>
        </div>

        <!-- Mobile menu -->
        <div id="mobile-menu" class="md:hidden hidden mt-4 pb-4">
          <div class="flex flex-col space-y-3">
            <% if (!currentUser) { %>
            <a
              href="/"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Home</a
            >
            <a
              href="#features"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Features</a
            >
            <a
              href="#contact"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Contact</a
            >
            <% } %> <% if (currentUser) { %>
            <!-- Mobile user info -->
            <div class="border-b pb-3 mb-3">
              <div class="flex items-center justify-center mb-2">
                <div
                  class="w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white font-semibold relative mr-3"
                >
                  <%= (currentUser.fullName || currentUser.username ||
                  currentUser.email).charAt(0).toUpperCase() %> <% if (isAdmin)
                  { %>
                  <div
                    class="absolute -top-1 -right-1 w-4 h-4 bg-yellow-400 rounded-full border border-white"
                  ></div>
                  <% } %>
                </div>
                <div class="text-center">
                  <div
                    class="text-sm font-semibold text-gray-800 flex items-center justify-center"
                  >
                    <%= currentUser.fullName || currentUser.username %> <% if
                    (isAdmin) { %>
                    <span class="admin-badge ml-2">Admin</span>
                    <% } %>
                  </div>
                </div>
              </div>
            </div>

            <a
              href="/restaurants"
              class="block text-gray-700 hover:text-blue-600 transition-colors py-1 text-center"
              >Dashboard</a
            >
            <% if (isAdmin) { %>
            <a
              href="/restaurants/new"
              class="block text-blue-600 hover:text-blue-700 transition-colors py-1 font-semibold text-center"
              >+ Add Restaurant</a
            >
            <% } %>
            <form action="/logout" method="POST" class="mt-2">
              <button
                type="submit"
                class="w-full text-red-600 hover:text-red-700 transition-colors py-1"
              >
                Logout
              </button>
            </form>
            <% } else { %>
            <a
              href="/login"
              class="text-gray-700 hover:text-blue-600 transition-colors"
              >Login</a
            >
            <a href="/register" class="text-blue-600 font-semibold">Sign Up</a>
            <% } %>
          </div>
        </div>
      </div>
    </nav>

    <!-- Hero Section -->
    <section
      id="home"
      class="min-h-screen flex items-center justify-center px-6 pt-20"
    >
      <div class="max-w-4xl mx-auto text-center">
        <div class="glass rounded-3xl p-12 shadow-2xl animate-fadeInUp">
          <div class="text-6xl mb-6 animate-float">🧭</div>

          <!-- Dynamic welcome message based on user status -->
          <% if (currentUser) { %>
          <!-- Logged in user -->
          <h2
            class="text-6xl font-bold mb-8 gradient-bg bg-clip-text text-transparent text-shadow stagger-1 animate-fadeInUp"
          >
            Welcome Back<% if (isAdmin) { %>, Admin<% } else { %>, <%=
            currentUser.fullName || currentUser.username %><% } %>!
          </h2>
          <p
            class="text-xl text-gray-600 mb-8 max-w-2xl mx-auto leading-relaxed stagger-2 animate-fadeInUp"
          >
            <% if (isAdmin) { %> Ready to manage your restaurant directory? You
            have full access to add, edit, and organize restaurants. <% } else {
            %> Ready to discover amazing restaurants? Explore our curated
            collection of dining experiences. <% } %>
          </p>
          <% } else { %>
          <!-- Not logged in -->
          <h2
            class="text-6xl font-bold mb-6 gradient-bg bg-clip-text text-transparent text-shadow stagger-1 animate-fadeInUp"
          >
            Welcome to Local Compass
          </h2>
          <p
            class="text-xl text-gray-600 mb-8 max-w-2xl mx-auto leading-relaxed stagger-2 animate-fadeInUp"
          >
            Discover extraordinary restaurants near you. Explore by location,
            cuisine, and ratings with our intelligent recommendation system.
          </p>
          <% } %>

          <div
            class="flex flex-col sm:flex-row gap-4 justify-center stagger-3 animate-fadeInUp"
          >
            <% if (currentUser) { %>
            <!-- User is logged in -->
            <a
              href="/restaurants"
              class="btn-primary px-8 py-4 text-white rounded-xl text-lg font-semibold shadow-lg"
            >
              <% if (isAdmin) { %> 🛠️ Manage Restaurants <% } else { %> 🚀
              Explore Restaurants <% } %>
            </a>
            <% } else { %>
            <!-- User is not logged in -->
            <a
              href="/login"
              class="btn-primary px-8 py-4 text-white rounded-xl text-lg font-semibold shadow-lg"
            >
              🚀 Get Started
            </a>
            <a
              href="/register"
              class="glass px-8 py-4 text-blue-600 rounded-xl text-lg font-semibold hover:bg-white/30 transition-all duration-300"
            >
              ➕ Sign Up Free
            </a>
            <% } %>
          </div>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="py-20 px-6">
      <div class="max-w-7xl mx-auto">
        <div class="text-center mb-16">
          <h3
            class="text-4xl font-bold gradient-bg bg-clip-text text-transparent mb-4 animate-fadeInUp"
          >
            Why Choose Local Compass?
          </h3>
          <p
            class="text-xl text-gray-600 max-w-2xl mx-auto animate-fadeInUp stagger-1"
          >
            Experience the future of restaurant discovery with our cutting-edge
            features
          </p>
        </div>

        <div class="grid md:grid-cols-3 gap-8">
          <div
            class="glass rounded-2xl p-8 text-center card-hover animate-fadeInUp stagger-2"
          >
            <div class="feature-icon stagger-3">⭐</div>
            <h4 class="text-2xl font-bold text-blue-700 mb-4">
              Top Rated Excellence
            </h4>
            <p class="text-gray-600 leading-relaxed">
              Discover restaurants with exceptional ratings and authentic
              reviews from food enthusiasts worldwide.
            </p>
          </div>

          <div
            class="glass rounded-2xl p-8 text-center card-hover animate-fadeInUp stagger-3"
          >
            <div class="feature-icon stagger-4">🍕</div>
            <h4 class="text-2xl font-bold text-blue-700 mb-4">
              Diverse Cuisines
            </h4>
            <p class="text-gray-600 leading-relaxed">
              Explore Italian, Asian, Arabic, and countless other cuisines with
              our intelligent recommendation engine.
            </p>
          </div>

          <div
            class="glass rounded-2xl p-8 text-center card-hover animate-fadeInUp stagger-4"
          >
            <div class="feature-icon stagger-5">📍</div>
            <h4 class="text-2xl font-bold text-blue-700 mb-4">
              Smart Location
            </h4>
            <p class="text-gray-600 leading-relaxed">
              Advanced map integration with real-time data to find the perfect
              restaurant near your location.
            </p>
          </div>
        </div>

        <!-- Additional Features -->
        <div class="grid md:grid-cols-2 gap-8 mt-16">
          <div
            class="glass rounded-2xl p-8 card-hover animate-slideInLeft stagger-5"
          >
            <div class="flex items-center mb-4">
              <div class="text-3xl mr-4">🎯</div>
              <h4 class="text-2xl font-bold text-blue-700">
                Personalized Recommendations
              </h4>
            </div>
            <p class="text-gray-600 leading-relaxed">
              AI-powered suggestions based on your preferences, dietary
              requirements, and previous dining experiences.
            </p>
          </div>

          <div
            class="glass rounded-2xl p-8 card-hover animate-slideInRight stagger-6"
          >
            <div class="flex items-center mb-4">
              <div class="text-3xl mr-4">⚡</div>
              <h4 class="text-2xl font-bold text-blue-700">
                Lightning Fast Search
              </h4>
            </div>
            <p class="text-gray-600 leading-relaxed">
              Instant results with advanced filtering options including price
              range, ambiance, and special dietary needs.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="py-20 px-6">
      <div class="max-w-4xl mx-auto text-center">
        <div
          class="gradient-bg rounded-3xl p-12 text-white shadow-2xl animate-pulse-glow"
        >
          <div class="text-5xl mb-6 animate-float">🍴</div>
          <h3 class="text-4xl font-bold mb-4 text-shadow">
            <% if (currentUser) { %> <% if (isAdmin) { %> Ready to Manage? <% }
            else { %> Ready to Explore? <% } %> <% } else { %> Ready to Explore?
            <% } %>
          </h3>
          <p class="text-xl mb-8 opacity-90">
            <% if (currentUser) { %> <% if (isAdmin) { %> Take full control of
            the restaurant directory and keep it updated for our community. <% }
            else { %> Continue your culinary journey and discover new favorite
            spots. <% } %> <% } else { %> Join thousands of food lovers who
            trust Local Compass for their dining adventures. <% } %>
          </p>
          <% if (currentUser) { %>
          <a
            href="/restaurants"
            class="bg-white text-blue-600 px-8 py-4 rounded-xl text-lg font-semibold hover:bg-blue-50 transition-all duration-300 transform hover:scale-105 shadow-lg"
          >
            <% if (isAdmin) { %> 🛠️ Manage Restaurants <% } else { %> 🚀 Explore
            Restaurants <% } %>
          </a>
          <% } else { %>
          <a
            href="/login"
            class="bg-white text-blue-600 px-8 py-4 rounded-xl text-lg font-semibold hover:bg-blue-50 transition-all duration-300 transform hover:scale-105 shadow-lg"
          >
            🚀 Start Your Journey
          </a>
          <% } %>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="glass border-t border-white/20 py-8 mt-20">
      <div class="max-w-7xl mx-auto px-6 text-center">
        <div class="flex items-center justify-center mb-4">
          <div class="text-2xl mr-2">🧭</div>
          <span
            class="text-xl font-bold gradient-bg bg-clip-text text-transparent"
            >Local Compass</span
          >
        </div>
        <p class="text-gray-600 mb-2">
          &copy; 2025 Local Compass. All rights reserved.
        </p>
        <p class="text-gray-500">Made with ❤️ for food lovers everywhere</p>
        <% if (isAdmin) { %>
        <p class="text-yellow-600 text-sm mt-2 font-semibold">
          👑 Administrator Access Active
        </p>
        <% } %>
        <div class="flex justify-center space-x-6 mt-4">
          <a
            href="#"
            class="text-gray-400 hover:text-blue-500 transition-colors"
            >Privacy</a
          >
          <a
            href="#"
            class="text-gray-400 hover:text-blue-500 transition-colors"
            >Terms</a
          >
          <a
            href="#"
            class="text-gray-400 hover:text-blue-500 transition-colors"
            >Support</a
          >
        </div>
      </div>
    </footer>

    <script>
      // Mobile menu toggle
      document
        .getElementById("mobile-menu-button")
        .addEventListener("click", function () {
          const mobileMenu = document.getElementById("mobile-menu");
          mobileMenu.classList.toggle("hidden");
        });

      // Smooth scrolling for navigation links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          }
        });
      });

      // Add scroll effect to navbar
      window.addEventListener("scroll", () => {
        const nav = document.querySelector("nav");
        if (window.scrollY > 100) {
          nav.style.background = "rgba(255, 255, 255, 0.95)";
        } else {
          nav.style.background = "rgba(255, 255, 255, 0.15)";
        }
      });

      // Intersection Observer for animations
      const observerOptions = {
        threshold: 0.1,
        rootMargin: "0px 0px -50px 0px",
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.style.opacity = "1";
            entry.target.style.transform = "translateY(0)";
          }
        });
      }, observerOptions);

      // Observe all animated elements
      document
        .querySelectorAll(
          ".animate-fadeInUp, .animate-slideInLeft, .animate-slideInRight"
        )
        .forEach((el) => {
          el.style.opacity = "0";
          el.style.transform = "translateY(30px)";
          observer.observe(el);
        });
    </script>
  </body>
</html>
